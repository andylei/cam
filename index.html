<html>
  <head>
    <style>
     .bar {
       fill: steelblue;
     }

     .bar:hover {
       fill: brown;
     }

     .grid.x path, .grid.x text {
       display: none;
     }
     .grid.x line {
       stroke: #ebebeb;
       stroke-dasharray: 5, 5;
     }
    </style>
  </head>
  <body>
    <h1>hi</h1>
    <svg width="960" height="500"></svg>
    <script src="bower_components/d3/d3.js"></script>
    <script>
      function prop(name) {
        return (obj) => obj[name];
      }

      var svg = d3.select("svg"),
          margin = {top: 20, right: 20, bottom: 30, left: 40},
          width = +svg.attr("width") - margin.left - margin.right,
          height = +svg.attr("height") - margin.top - margin.bottom;

      var y = d3.scaleBand().rangeRound([0, height]).padding(0.1),
          x = d3.scaleLinear().rangeRound([0, width]);

      var g = svg.append("g")
                 .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

      d3.tsv("data.tsv", function(d) {
        d.start = +d.start;
        d.end = +d.end;
        return d;
      }, function(error, data) {
        if (error) throw error;
        data.sort((d0, d1) => d1.start - d0.start);

        x.domain([d3.min(data, prop('start')), d3.max(data, prop('end')) ]);
        y.domain(d3.range(data.length));

        g.append("g")
         .attr("class", "axis axis--x")
         .attr("transform", "translate(0," + height + ")")
         .call(d3.axisBottom(x).ticks(20));

        g.append("g")
         .attr('class', 'grid x')
         .call(d3.axisBottom(x).ticks(20).tickSize(height).tickFormat(''));

        g.selectAll(".bar")
         .data(data)
         .enter().append("rect")
         .attr("class", "bar")
         .attr("x", (d) => x(d.start))
         .attr("y", (d, i) => y(i))
         .attr("width", (d) => x(d.end) - x(d.start))
         .attr("height", y.bandwidth());
      });
    </script>
  </body>
</html>
